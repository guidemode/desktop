@import "tailwindcss";
@plugin "daisyui";
@source "../node_modules/@guidemode/session-processing/src/**/*.{js,ts,jsx,tsx}";

/* Force responsive utilities that are missing in Tailwind v4 + DaisyUI */
@layer utilities {
  @media (min-width: 768px) {
    .md\\:inline {
      display: inline;
    }

    .md\\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (min-width: 1024px) {
    .lg\\:block {
      display: block;
    }

    .lg\\:hidden {
      display: none;
    }

    .lg\\:inline {
      display: inline;
    }
  }
}

/* GuideMode Light Theme */
@plugin "daisyui/theme" {
  name: "guidemode-light";
  default: true;
  color-scheme: light;
  --color-primary: #0891b2;
  --color-primary-content: #ffffff;
  --color-secondary: #059669;
  --color-secondary-content: #ffffff;
  --color-accent: #0ea5e9;
  --color-accent-content: #ffffff;
  --color-neutral: #475569;
  --color-neutral-content: #ffffff;
  --color-base-100: #ffffff;
  --color-base-200: #f1f5f9;
  --color-base-300: #e2e8f0;
  --color-base-content: #0f172a;
  --color-info: #3b82f6;
  --color-info-content: #ffffff;
  --color-success: #10b981;
  --color-success-content: #ffffff;
  --color-warning: #f59e0b;
  --color-warning-content: #000000;
  --color-error: #ef4444;
  --color-error-content: #ffffff;
}

/* GuideMode Dark Theme */
@plugin "daisyui/theme" {
  name: "guidemode-dark";
  color-scheme: dark;
  --color-primary: #22d3ee;
  --color-primary-content: #0c4a6e;
  --color-secondary: #34d399;
  --color-secondary-content: #064e3b;
  --color-accent: #38bdf8;
  --color-accent-content: #0c4a6e;
  --color-neutral: #64748b;
  --color-neutral-content: #f1f5f9;
  --color-base-100: #1e293b;
  --color-base-200: #334155;
  --color-base-300: #475569;
  --color-base-content: #e2e8f0;
  --color-info: #60a5fa;
  --color-info-content: #1e3a8a;
  --color-success: #4ade80;
  --color-success-content: #14532d;
  --color-warning: #fbbf24;
  --color-warning-content: #78350f;
  --color-error: #f87171;
  --color-error-content: #7f1d1d;
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
  html,
  body {
    @apply m-0 p-0 h-full overflow-hidden;
  }

  #root {
    @apply h-full;
  }
}

/* Colorful gradient backgrounds for main content area */
[data-theme="guidemode-light"] .main-gradient {
  background: linear-gradient(
    135deg,
    #dbeafe 0%,    /* blue-100 */
    #d1fae5 25%,   /* emerald-100 */
    #ccfbf1 50%,   /* teal-100 */
    #e0e7ff 75%,   /* indigo-100 */
    #fae8ff 100%   /* fuchsia-100 */
  );
}

[data-theme="guidemode-dark"] .main-gradient {
  background: linear-gradient(
    135deg,
    #020617 0%,    /* slate-950 */
    #020617 25%,   /* slate-950 */
    #0f172a 50%,   /* slate-900 */
    #020617 75%,   /* slate-950 */
    #020617 100%   /* slate-950 */
  );
}

/* ============================================================================
   Prism.js Syntax Highlighting - Manual Theme Styles
   ============================================================================
   Since imports don't work well, we'll include basic syntax highlighting inline.
   ============================================================================ */

/* Base code block styles */
code[class*="language-"],
pre[class*="language-"] {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  font-size: 1em;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;
  tab-size: 4;
  hyphens: none;
}

pre[class*="language-"] {
  padding: 1em;
  margin: 0.5em 0;
  overflow: auto;
  border-radius: 0.3em;
}

/* Light theme colors */
[data-theme="guidemode-light"] code[class*="language-"],
[data-theme="guidemode-light"] pre[class*="language-"] {
  color: #000;
  background: #f5f2f0;
}

[data-theme="guidemode-light"] .token.comment,
[data-theme="guidemode-light"] .token.prolog,
[data-theme="guidemode-light"] .token.doctype,
[data-theme="guidemode-light"] .token.cdata {
  color: #708090;
}

[data-theme="guidemode-light"] .token.punctuation {
  color: #999;
}

[data-theme="guidemode-light"] .token.property,
[data-theme="guidemode-light"] .token.tag,
[data-theme="guidemode-light"] .token.boolean,
[data-theme="guidemode-light"] .token.number,
[data-theme="guidemode-light"] .token.constant,
[data-theme="guidemode-light"] .token.symbol,
[data-theme="guidemode-light"] .token.deleted {
  color: #905;
}

[data-theme="guidemode-light"] .token.selector,
[data-theme="guidemode-light"] .token.attr-name,
[data-theme="guidemode-light"] .token.string,
[data-theme="guidemode-light"] .token.char,
[data-theme="guidemode-light"] .token.builtin,
[data-theme="guidemode-light"] .token.inserted {
  color: #690;
}

[data-theme="guidemode-light"] .token.operator,
[data-theme="guidemode-light"] .token.entity,
[data-theme="guidemode-light"] .token.url {
  color: #9a6e3a;
}

[data-theme="guidemode-light"] .token.atrule,
[data-theme="guidemode-light"] .token.attr-value,
[data-theme="guidemode-light"] .token.keyword {
  color: #07a;
}

[data-theme="guidemode-light"] .token.function,
[data-theme="guidemode-light"] .token.class-name {
  color: #dd4a68;
}

[data-theme="guidemode-light"] .token.regex,
[data-theme="guidemode-light"] .token.important,
[data-theme="guidemode-light"] .token.variable {
  color: #e90;
}

/* Dark theme colors (Okaidia-inspired) */
[data-theme="guidemode-dark"] code[class*="language-"],
[data-theme="guidemode-dark"] pre[class*="language-"] {
  color: #f8f8f2;
  background: #1e1e1e;
}

[data-theme="guidemode-dark"] .token.comment,
[data-theme="guidemode-dark"] .token.prolog,
[data-theme="guidemode-dark"] .token.doctype,
[data-theme="guidemode-dark"] .token.cdata {
  color: #8292a2;
}

[data-theme="guidemode-dark"] .token.punctuation {
  color: #f8f8f2;
}

[data-theme="guidemode-dark"] .token.property,
[data-theme="guidemode-dark"] .token.tag,
[data-theme="guidemode-dark"] .token.constant,
[data-theme="guidemode-dark"] .token.symbol,
[data-theme="guidemode-dark"] .token.deleted {
  color: #f92672;
}

[data-theme="guidemode-dark"] .token.boolean,
[data-theme="guidemode-dark"] .token.number {
  color: #ae81ff;
}

[data-theme="guidemode-dark"] .token.selector,
[data-theme="guidemode-dark"] .token.attr-name,
[data-theme="guidemode-dark"] .token.string,
[data-theme="guidemode-dark"] .token.char,
[data-theme="guidemode-dark"] .token.builtin,
[data-theme="guidemode-dark"] .token.inserted {
  color: #a6e22e;
}

[data-theme="guidemode-dark"] .token.operator,
[data-theme="guidemode-dark"] .token.entity,
[data-theme="guidemode-dark"] .token.url {
  color: #f8f8f2;
}

[data-theme="guidemode-dark"] .token.atrule,
[data-theme="guidemode-dark"] .token.attr-value,
[data-theme="guidemode-dark"] .token.keyword {
  color: #66d9ef;
}

[data-theme="guidemode-dark"] .token.function,
[data-theme="guidemode-dark"] .token.class-name {
  color: #e6db74;
}

[data-theme="guidemode-dark"] .token.regex,
[data-theme="guidemode-dark"] .token.important,
[data-theme="guidemode-dark"] .token.variable {
  color: #fd971f;
}

/* Inline code blocks */
[data-theme="guidemode-light"] .markdown-rendered code:not([class*="language-"]) {
  background-color: #f5f2f0;
  color: black;
}

[data-theme="guidemode-dark"] .markdown-rendered code:not([class*="language-"]) {
  background-color: #1e1e1e;
  color: #d4d4d4;
}

/* Diff View Wrapper - ensure proper styling */
.diff-view-wrapper {
  @apply w-full overflow-auto;
  font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
}

/* Enhanced diff view colors - use correct variable names with trailing -- */
[data-theme="guidemode-light"] .diff-view-wrapper {
  /* Addition line colors */
  --diff-add-content--: #dcfce7;
  --diff-add-lineNumber--: #bbf7d0;

  /* Deletion line colors */
  --diff-delete-content--: #fee2e2;
  --diff-delete-lineNumber--: #fecaca;

  /* Plain/context line colors */
  --diff-plain-content--: #ffffff;
  --diff-plain-lineNumber--: #f8fafc;
  --diff-plain-lineNumber-color--: #64748b;

  /* Hunk header */
  --diff-hunk-content--: #e0e7ff;
}

[data-theme="guidemode-dark"] .diff-view-wrapper {
  /* Addition line colors */
  --diff-add-content--: #14532d;
  --diff-add-lineNumber--: #166534;

  /* Deletion line colors */
  --diff-delete-content--: #7f1d1d;
  --diff-delete-lineNumber--: #991b1b;

  /* Plain/context line colors */
  --diff-plain-content--: #1e293b;
  --diff-plain-lineNumber--: #0f172a;
  --diff-plain-lineNumber-color--: #94a3b8;

  /* Hunk header */
  --diff-hunk-content--: #312e81;
}